# プレフィックスキーを変更（デフォルトのCtrl+bを解除してCtrl+qに設定）
unbind C-b
set -g prefix C-q
bind C-q send-prefix

# マウス操作を有効化
set-option -g mouse on

# コピーや選択モードをvi風に設定
set-window-option -g mode-keys vi

# 端末タイプ（tmux自身を名乗る）+ True Color
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ',*:Tc'

# Yaziなどの端末問い合わせを素通し + 環境変数伝搬
set -g allow-passthrough on
set -ga update-environment "TERM TERM_PROGRAM COLORTERM"
unbind -n M-P  # 衝突回避（保険）

# ビジュアル通知をオフにする
setw -g monitor-activity off
set -g visual-activity off

# 設定ファイルをリロードするショートカット（prefix + r）
bind-key r source-file ~/.tmux.conf \; display-message "Config reloaded!"

# ステータスバーの設定
set -g status-interval 5
set -g status-right-length 80
set -g status-right "#{weather} 🦊%Y/%m/%d %H:%M"

# プラグインの読み込み設定
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'xamut/tmux-weather'

# TPM（プラグインマネージャー）の起動
run '~/.tmux/plugins/tpm/tpm'

# ---- ここから追加設定 ----
# ペイン分割のキーを直感的に変更
# 縦分割を「|」に設定
bind | split-window -h
# 横分割を「-」に設定
bind - split-window -v
set -g status on
set -g status-right '#{?@vi_mode,-- NORMAL --,} %H:%M '

# ウィンドウ番号を 1 から始める
set -g base-index 1

# ペイン番号も 1 から始める（合わせておくと直感的）
setw -g pane-base-index 1

